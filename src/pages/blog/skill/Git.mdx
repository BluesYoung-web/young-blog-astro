---
title: git ç›¸å…³
description: git ç›¸å…³çš„æŠ€å·§
image: /img/git.png
cover: /img/git.jpg
date: 2022-02-16 17:01:47

tableHead:
  - label: å›¾æ ‡
    prop: icon
    width: 160
  - label: ä»£ç 
    prop: code
    width: 160
  - label: å«ä¹‰
    prop: des

tableData:
  - icon: ğŸ¨
    code: <code>:art:</code>
    des: æ”¹è¿›ä»£ç ç»“æ„/ä»£ç æ ¼å¼
  - icon: âš¡ï¸
    code: <code>:zap:</code>
    des: æå‡æ€§èƒ½
  - icon: ğŸ”¥
    code: <code>:fire:</code>
    des: åˆ é™¤ä»£ç æˆ–æ–‡ä»¶
  - icon: ğŸ›
    code: <code>:bug:</code>
    des: ä¿®å¤
  - icon: ğŸš‘
    code: <code>:ambulance:</code>
    des: é‡è¦è¡¥ä¸
  - icon: âœ¨
    code: <code>:sparkles:</code>
    des: å¼•å…¥æ–°ç‰¹æ€§
  - icon: ğŸ“
    code: <code>:memo:</code>
    des: æ’°å†™æ–‡æ¡£
  - icon: ğŸš€ï¸
    code: <code>:rocket:</code>
    des: éƒ¨ç½²åŠŸèƒ½
  - icon: ğŸ’„
    code: <code>:lipstick:</code>
    des: æ›´æ–° UI å’Œæ ·å¼æ–‡ä»¶
  - icon: ğŸ‰ï¸
    code: <code>:tada:</code>
    des: åˆæ¬¡æäº¤
  - icon: âœ…
    code: <code>:white_check_mark:</code>
    des: å¢åŠ æµ‹è¯•
  - icon: ğŸ”’
    code: <code>:lock:</code>
    des: ä¿®å¤å®‰å…¨é—®é¢˜
  - icon: ğŸ
    code: <code>:apple:</code>
    des: ä¿®å¤ macOS ä¸‹çš„é—®é¢˜
  - icon: ğŸ§
    code: <code>:penguin:</code>
    des: ä¿®å¤ Linux ä¸‹çš„é—®é¢˜
  - icon: ğŸ
    code: <code>:checkered_flag:</code>
    des: ä¿®å¤ Windows ä¸‹çš„é—®é¢˜
  - icon: ğŸ¤–
    code: <code>:robot:</code>
    des: ä¿®å¤ Android ä¸‹çš„é—®é¢˜
  - icon: ğŸ
    code: <code>:green_apple:</code>
    des: ä¿®å¤ IOS ä¸‹çš„é—®é¢˜
---
import Table from '@/components/post/table.astro'

[[toc]]

## åŸºæœ¬æ“ä½œ

```bash
# è®¾ç½®å…¨å±€é…ç½®
git config --global user.email "youremail@example.com"
git config --global user.name "yourname"

# åˆå§‹åŒ–
git init

# åŠ å…¥æš‚å­˜åŒº
git add æ–‡ä»¶å(`.` ä¸ºé€šé…ç¬¦ï¼Œè¡¨ç¤ºå°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½åŠ å…¥æš‚å­˜åŒº)

# æŸ¥çœ‹å·¥ä½œåŒºçš„çŠ¶æ€
git status

# æŸ¥çœ‹å½“å‰ä¿®æ”¹æ–‡ä»¶ä¸ä¹‹å‰ç‰ˆæœ¬çš„å¯¹æ¯”
git diff

# åˆ é™¤æ–‡ä»¶
git rm æ–‡ä»¶å

# æäº¤
git commit -m "æäº¤ä¿¡æ¯"

# æŸ¥çœ‹æäº¤æ—¥å¿—
git log
```

## `git reset` ç‰ˆæœ¬å›é€€

```bash
# å›é€€åˆ°ä¸Šä¸ªç‰ˆæœ¬
git reset --hard HEAD^

# å›åˆ°ç‰¹å®šçš„ç‰ˆæœ¬
git reset --hard dsadhg(ä¸€èˆ¬ä¸ºæäº¤è®°å½•å¯¹åº” hash ç çš„å‰ 7 ä½ï¼Œä¸€èˆ¬è¾“å…¥ 3 ä½å›è½¦å³å¯è‡ªåŠ¨è¡¥å…¨)

# æŸ¥çœ‹æ“ä½œè®°å½•ï¼Œå¯ä»¥æ‰¾åˆ°å›é€€çš„è®°å½•å¹¶å–æ¶ˆå›é€€ï¼ï¼ï¼
git reflog
```

## `git checkout` ä¸‡é‡‘æ²¹

```bash
# ä¸¢å¼ƒä¿®æ”¹çš„æ–‡ä»¶(ä½¿ç”¨ç‰ˆæœ¬åº“å†…çš„ç‰ˆæœ¬ï¼Œæ›¿æ¢ç°æœ‰ç‰ˆæœ¬)
#   æœªæ‰§è¡Œ git addï¼Œç›´æ¥ä¸¢å¼ƒ
#   æ‰§è¡Œ git add ä¹‹åï¼Œæ¢å¤åˆ° git add æ—¶çš„å†…å®¹
git checkout -- æ–‡ä»¶å

# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°å¯¹åº”çš„åˆ†æ”¯
git checkout -b åˆ†æ”¯åç§°
# ç­‰æ•ˆäº
#   git branch åˆ†æ”¯åç§°
#   git checkout åˆ†æ”¯åç§°

# åŸºäºè¿œç¨‹åˆ†æ”¯åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æœ¬åœ°åˆ†æ”¯
git checkout -b dev origin/dev
```

## åˆ†æ”¯æ“ä½œ

```bash
# æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯ä¼šè¢« * æ ‡å‡ºï¼Œ-a æŸ¥çœ‹åŒ…å«è¿œç¨‹åˆ†æ”¯åœ¨å†…çš„æ‰€æœ‰åˆ†æ”¯
git branch

# å°†å¯¹åº”çš„åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯
git merge åˆ†æ”¯åç§°

# åˆ é™¤å·²ç»åˆå¹¶è¿‡çš„åˆ†æ”¯
git branch -d åˆ†æ”¯åç§°
# å¼ºåˆ¶åˆ é™¤åˆ†æ”¯
git branch -D åˆ†æ”¯åç§°

# å»ºç«‹æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯çš„å…³è”
git branch --set-upstream branch-name origin/branch-name

# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°å¯¹åº”åˆ†æ”¯(æ–°ç‰ˆæœ¬æ‰æœ‰ switch å‘½ä»¤ ï¼ï¼ï¼)
git switch -c åˆ†æ”¯åç§°
# åˆ‡æ¢åˆ°å¯¹åº”çš„åˆ†æ”¯
git switch åˆ†æ”¯åç§°
```

## `git stash` æ ˆæ“ä½œ

**å¸¸ç”¨äºä¿å­˜ç°åœº**

```bash
# æŸ¥çœ‹æ ˆ
git stash list

# å°†æš‚å­˜åŒºçš„å†…å®¹å…¥æ ˆ
git stash push [-m 'æè¿°ä¿¡æ¯']

# å–å‡ºæ ˆä¸­çš„å†…å®¹(é»˜è®¤æœ€æ–°ä¸€æ¡)ï¼Œä¸ä¼šåˆ é™¤
git stash apply [stash@{num}]

# åˆ é™¤æ ˆä¸­çš„å†…å®¹(é»˜è®¤æœ€æ–°ä¸€æ¡)
git stash drop [stash@{num}]

# å–å‡ºå¹¶åˆ é™¤æ ˆä¸­çš„å†…å®¹(é»˜è®¤æœ€æ–°ä¸€æ¡)
git stash pop [stash@{num}]

# æŸ¥çœ‹æ ˆä¸­çš„å†…å®¹(é»˜è®¤æœ€æ–°ä¸€æ¡)
git stash show [stash@{num}]

# æ¸…ç©ºæ ˆ
git stash clear
```

## `git tag` æ ‡ç­¾æ“ä½œ

```bash
# æŸ¥çœ‹å½“å‰çš„æ ‡ç­¾
git tag

# ç»™å¯¹åº”çš„æäº¤æ‰“æ ‡ç­¾ï¼Œé»˜è®¤ä¸ºæœ€æ–°çš„æäº¤
git tag v1.0 æäº¤çš„ hash ç 

# ç»™æŸä¸ªæäº¤æ‰“å¸¦æœ‰æ–‡å­—è¯´æ˜çš„æ ‡ç­¾
git tag -a v1.1 -m "description" æäº¤çš„ hash ç 

# åˆ é™¤æ ‡ç­¾
git tag -d v1.0

# æ¨é€æŸä¸ªæ ‡ç­¾åˆ°è¿œç¨‹
git push origin v1.0
# æ¨é€æ‰€æœ‰æ ‡ç­¾åˆ°è¿œç¨‹
git push origin --tags

# åˆ é™¤è¿œç¨‹æ ‡ç­¾
#   å…ˆåˆ é™¤æœ¬åœ°æ ‡ç­¾
git tag -d v1.0
#   ç„¶åæ¨é€åˆ°è¿œç¨‹ï¼Œåˆ é™¤è¿œç¨‹æ ‡ç­¾
git push origin :refs/tags/v1.0
```

## è¿œç¨‹æ“ä½œ

```bash
# ç”Ÿæˆ ssh ç§˜é’¥ï¼Œä¸€è·¯å›è½¦
ssh-keygen -t rsa -C "youremail@example.com"
# å°†ç”Ÿæˆçš„å…¬é’¥ `id_rsa.pub` æ·»åŠ åˆ°å¯¹åº”çš„ä»“åº“

# è®¾ç½®è¿œç¨‹ä»“åº“çš„åœ°å€
# https æ¯æ¬¡éƒ½éœ€è¦è¾“è´¦å·å¯†ç ï¼Œgit åªæ˜¯éœ€è¦é¦–æ¬¡æ·»åŠ ç§˜é’¥ï¼Œä¹‹åå°±æ˜¯æ— æ„Ÿæ“ä½œ
git remote add origin git@github.com:xxx/xxx.git

# é‡æ–°è®¾ç½®è¿œç¨‹åœ°å€
git remote set-url origin ssh://git@xxx.git


# æŸ¥çœ‹å·²æ·»åŠ çš„è¿œç¨‹ä»“åº“
git remote -v

# åˆ é™¤å¯¹åº”çš„è¿œç¨‹ä»“åº“
git remote rm origin(è¿œç¨‹ä»“åº“åç§°)

# é‡å‘½åè¿œç¨‹ä»“åº“
git remote rename oldname newname

# ä»è¿œç¨‹ä»“åº“å…‹éš†
git clone git@github.com:xxx/xxx.git

# é¦–æ¬¡æ¨é€
git push -u origin dev
# åç»­æ¨é€ï¼Œdev åˆ†æ”¯é»˜è®¤æ¨é€åˆ°è¿œç¨‹çš„ origin/dev åˆ†æ”¯
git push
# æ‹‰å–å¹¶åˆå¹¶å¯¹åº”åˆ†æ”¯çš„æœ€æ–°æäº¤å†…å®¹
git pull
# ä»…æ‹‰å–ï¼Œä¸åˆå¹¶
git fetch

# æ‹‰å–å¹¶åˆå¹¶æŒ‡å®šç‰ˆæœ¬
git pull origin origin-name:local-name

# å¸¸è§„æ¨é€ï¼Œæ¨é€å¯¹åº”çš„æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹
git push origin feat-branch-name
git push origin local-name:origin-name

# è®¾ç½®å…¨å±€ä»£ç†(clash)
git config --global http.proxy http://127.0.0.1:7890
# å–æ¶ˆå…¨å±€ä»£ç†(ä¸ä½¿ç”¨ clash æ—¶)
git config --global --unset http.proxy
```

## `.gitignore` å¿½ç•¥æ–‡ä»¶

å†™å…¥å…¶ä¸­çš„å†…å®¹ä¼šè¢« `git` ç‰ˆæœ¬ç®¡ç†å¿½ç•¥

```gitignore
.DS_Store
.vite-ssg-dist
.vite-ssg-temp
*.local
dist
dist-ssr
node_modules
.idea/
*.log

# ä¾‹å¤–çš„å†…å®¹ï¼Œä»¥ `!` ä¿®é¥°ï¼Œä¾‹å¦‚
!.env.test.local
```

## å°æŠ€å·§

```bash
# å¤åˆ¶ç‰¹å®šçš„æäº¤åˆ°å½“å‰åˆ†æ”¯ï¼Œç›¸å½“äºéƒ¨åˆ†åˆå¹¶åˆ†æ”¯
git cherry-pick æäº¤å¯¹åº”çš„ hash ç 

# åˆ é™¤è¿œç¨‹ä»“åº“çš„æäº¤
#   å…ˆè¿›è¡Œæœ¬åœ°ç‰ˆæœ¬å›é€€
git reset --hard HEAD~1
#   ç„¶åå¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push -f

# è¯¯åˆ æ¢å¤
#   å±•ç¤ºæ‰€æœ‰æäº¤è¿‡ä½†æ˜¯å¦‚ä»Šä¸å­˜åœ¨çš„ç‰ˆæœ¬çš„ hash
git fsck --lost-found 
#   æŸ¥çœ‹æäº¤çš„å†…å®¹
git show hashç å‰6ä½
#   æ¢å¤è¢«åˆ é™¤çš„ç‰ˆæœ¬
git reset --hard hashç å‰6ä½

# å˜åŸº å°†åˆ†å‰çš„æäº¤æ ‘å˜æˆä¸€æ¡æ²¡æœ‰åˆ†å‰çš„ç›´çº¿
git rebase

# å‘½ä»¤åˆ«å
git config --global alias.st status
# git st === git status

# æ­å»º git æœåŠ¡å™¨
https://www.liaoxuefeng.com/wiki/896043488029600/899998870925664
```

## é…ç½®æ–‡ä»¶

å…¨å±€é…ç½® `~/.gitconfig`

ä»“åº“é…ç½® `.git/config`

## gitmoji

[https://gitmoji.dev/](https://gitmoji.dev/)


<Table
  tableHead={frontmatter.tableHead}
  tableData={frontmatter.tableData}
/>